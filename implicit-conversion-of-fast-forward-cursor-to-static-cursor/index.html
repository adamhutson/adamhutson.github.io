<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Adam Hutson">
    <meta name="description" content="Adam Hutson&#39;s personal website">
    <meta name="keywords" content="blog,developer,personal">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Implicit Conversion Of Fast Forward Cursor To Static Cursor"/>
<meta name="twitter:description" content="During the course of one of my last blog posts on Cursors, I ran across a niche piece of information that I didn&#8217;t realize. I had always read that FAST_FORWARD CURSORs were the fastest and least locking of the different CURSOR types. What I didn&#8217;t realize was that if the SELECT statement joins on one or more tables with a trigger table (INSERTED/DELETED), the CURSOR is converted to a STATIC CURSOR!"/>

    <meta property="og:title" content="Implicit Conversion Of Fast Forward Cursor To Static Cursor" />
<meta property="og:description" content="During the course of one of my last blog posts on Cursors, I ran across a niche piece of information that I didn&#8217;t realize. I had always read that FAST_FORWARD CURSORs were the fastest and least locking of the different CURSOR types. What I didn&#8217;t realize was that if the SELECT statement joins on one or more tables with a trigger table (INSERTED/DELETED), the CURSOR is converted to a STATIC CURSOR!" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://adamhutson.com/implicit-conversion-of-fast-forward-cursor-to-static-cursor/" />
<meta property="article:published_time" content="2009-10-28T00:00:00+00:00" />
<meta property="article:modified_time" content="2009-10-28T00:00:00+00:00" />


    
      <base href="http://adamhutson.com/implicit-conversion-of-fast-forward-cursor-to-static-cursor/">
    
    <title>
  Implicit Conversion Of Fast Forward Cursor To Static Cursor Â· Adam Hutson
</title>

    
      <link rel="canonical" href="http://adamhutson.com/implicit-conversion-of-fast-forward-cursor-to-static-cursor/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="http://adamhutson.com/css/coder.min.28d751104f30c16da1aa1bb04015cbe662cacfe0d1b01af4f2240ad58580069c.css" integrity="sha256-KNdREE8wwW2hqhuwQBXL5mLKz&#43;DRsBr08iQK1YWABpw=" crossorigin="anonymous" media="screen" />
    

    

    
      
        
        
        <link rel="stylesheet" href="http://adamhutson.com/css/coder-inverted.min.9e2c96f8fa9eaf53cac36cea2d330e990ea903e02e7b2843e916e09da8724be4.css" integrity="sha256-niyW&#43;Pqer1PKw2zqLTMOmQ6pA&#43;AueyhD6RbgnahyS&#43;Q=" crossorigin="anonymous" media="screen" />
      
    

    

    
    
    <link rel="icon" type="image/png" href="http://adamhutson.com/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="http://adamhutson.com/images/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.59.1" />
  </head>

  <body class=" inverted">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="http://adamhutson.com/">
      Adam Hutson
    </a>
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://adamhutson.com/about/">About</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://adamhutson.com/posts/">Blog</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://adamhutson.com/resume/">Resume</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://adamhutson.com/talks/">Talks</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://adamhutson.com/contact/">Contact</a>
          </li>
        
      
      
    </ul>
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">Implicit Conversion Of Fast Forward Cursor To Static Cursor</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2009-10-28T00:00:00Z'>
                October 28, 2009
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              2 minutes read
            </span>
          </div>
          
          
        </div>
      </header>

      <div>
        <div class="paragraph">
<p>During the course of one of my last blog posts on Cursors, I ran across a niche piece of information that I didn&#8217;t realize.
I had always read that FAST_FORWARD CURSORs were the fastest and least locking of the different CURSOR types.
What I didn&#8217;t realize was that if the SELECT statement joins on one or more tables with a trigger table (INSERTED/DELETED), the CURSOR is converted to a STATIC CURSOR!
Unfortunately, most of the tables that I work with have some sort of trigger.
So this was really important information.
Read more about it in this MSDN article.</p>
</div>
<div class="paragraph">
<p>Differences between STATIC and FAST_FORWARD CURSORs:
They are both read-only concurrency model.
This means that no locks are held on the base table(s).
However, while fetching a cursor row, a Shared Lock will be acquired.
The Shared Lock can be avoided with a NOLOCK hint on the SELECT, or via isolation level.
However, once the row is fetched, the locks are released.
STATIC:  Think of this as a snapshot of the result set.
When it is opened, a temporary table is created in tempdb, which adds additional pressure on the database.
It does not reflect any types of changes to the underlying database, such as INSERTs, UPDATEs, or DELETEs.
This is a read-only cursor that can go forward and backwards.
There can be significant impact on server resources for creating, populating, and cleaning up the snapshot in the tempdb database.
FAST_FORWARD:  This will create a fast forward-only, read-only cursor with performance optimizations enabled.
It can only go from the first row forward to the last row.
It operates directly on the base table(s).
Unlike a static cursor, rows are not retrieved from the database until they are fetched.
Any changes to a row (from INSERT, UPDATE, DELETE statements) before the row is fetched, will be reflected in the fetched row.</p>
</div>
<div class="paragraph">
<p>Disclaimer:  If possible, avoid using cursors.</p>
</div>

      </div>

      <footer>
        


        
        
        
      </footer>
    </article>

    
  </section>

      </div>

      <footer class="footer">
  <section class="container">
    
      <p>Jump and grow wings on the way down</p>
    
    
    
    
  </section>
</footer>

    </main>

    

  </body>

</html>
